<div class="dashboard-container">
  <div class="topbar">
    <div class="logo">ğŸ‘¨â€âš•ï¸ MyHospital User</div>
    <div class="logout" (click)="logout()">Logout</div>
  </div>

  <div class="body-container">
    <div class="sidebar">
      <ul>
        <li (click)="selectSection('myProfile')">ğŸ™â€â™‚ï¸ My Profile</li>
        <li (click)="selectSection('appointments')">ğŸ“… Appointments</li>
        <li (click)="selectSection('help')">â“ Help</li>
      </ul>
    </div>

    <div class="main-content">
      <div *ngIf="selectedSection === 'myProfile' && userProfile">
        <h2>ğŸ‘¤ My Profile</h2>
        <p><strong>Username:</strong> {{ userProfile.username }}</p>
        <p><strong>Email:</strong> {{ userProfile.email }}</p>
        <p><strong>Role:</strong> {{ userProfile.role }}</p>
      </div>

      <div *ngIf="selectedSection === 'appointments'" class="appointments-section">
        <h2>ğŸ“… Book an Appointment</h2>
      
        <form [formGroup]="appointmentForm" (ngSubmit)="bookAppointment()">
          <input formControlName="date" type="date" placeholder="Date" />
          <input formControlName="time" type="time" placeholder="Time" />
          <input formControlName="doctorName" type="text" placeholder="Doctor's Name" />
          <input formControlName="department" type="text" placeholder="Department" />
          <input formControlName="reason" type="text" placeholder="reason" />
          <button type="submit" [disabled]="appointmentForm.invalid">Book</button>
        </form>
      
        <h3>Your Appointments</h3>
        <ul *ngIf="appointments.length > 0; else noAppointments">
          <li *ngFor="let appointment of appointments">
            <strong>{{ appointment.date }} at {{ appointment.time }}</strong> with 
            Dr. {{ appointment.doctorName }} ({{ appointment.department }}) - 
            <em>{{ appointment.status || 'Pending' }}</em>
            <button (click)="cancelAppointment(appointment.id!)">Cancel</button>
          </li>
        </ul>
      
        <ng-template #noAppointments>
          <p>No appointments yet.</p>
        </ng-template>
      </div>
      

      <div *ngIf="selectedSection === 'help'">
        Help content...
      </div>
    </div>
  </div>
</div>
